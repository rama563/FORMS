<!-- form.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FORMS USING JAVASCRIPT</title>
    <link rel="stylesheet" href="new.js">
</head>
<body style="background-image: url(img/mqo8zI.jpg); background-size: cover;">
<div id="div1">
    <h1 style="text-align: center;font-family: cursive;background: whitesmoke;margin-top: 2%;">FORM VALIDATION</h1>
    <br><br>
    <fieldset style="text-align-last: center;border-width: 50%;background-color:whitesmoke;max-width: 30%;margin-left: 35%;margin-top: 8%;">
         <form name="login" action="sign.html">
            <label for="user" style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">USERNAME:</label>&nbsp &nbsp;
            <input id='user' name='user' type="text" autocomplete="off" minlength="3" maxlength="20" style="width: fit-content;margin-left: 30px;">
            <br><br>
            <label for="rollno" style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">ROLL NUMBER:</label>&nbsp
            <input id='rollno' name='rollno' type="text" autocomplete="off" minlength="2" maxlength="10" style="width: fit-content;margin-left: 15px;">
            <br><br>
            <label for="email" style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">MAIL-ID:</label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;
            <input type="email" name='email' id='email' autocomplete="off" minlength="10" maxlength="50" style="width: fit-content;margin-left: 45px;">
            <br><br>
            <label for="password" style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">PASSWORD:</label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;
            <!-- <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" name='password' id="password" autocomplete="new-password" minlength="8" maxlength="20" style="width: fit-content;margin-left: 20px;border:double;"required> -->
            <input type="password" id="psw" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
            <div id="message" style="display:none">
                <h3>Password must contain the following:</h3>
                <p id="letter" class="invalid">Atleast a <b>lowercase</b> letter</p>
                <p id="capital" class="invalid">Atleast a <b>capital (uppercase)</b> letter</p>
                <p id="number" class="invalid">A <b>number</b></p>
                <p id="length" class="invalid">Minimum <b>8 characters</b></p>
            </div> 
            <br><br>
            <label for="confirmpassword" style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">CONFIRM PASSWORD:</label>
            <input type="password" name='confirmpassword' id="confirmpassword" autocomplete="new-password" minlength="8" maxlength="20" style="width: fit-content;margin-left: 20px;"title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;
            <br><br>
            <label style="font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">GENDER:</label>
            <input type="radio" name="gender" id="male" value="male" style="margin-left:5%"><label for="male" style="font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;">Male</label>
            <input type="radio" name="gender" id="female" value="female"><label for="female" style="font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;">Female</label>
            <br><br>
            <input type="button"style="font: 1em sans-serif;"onclick="Submit(login)" value="SUBMIT"/>
            <button type="reset" style="font: 1em sans-serif;margin-left:10%">RESET</button>
        </form>
    </fieldset>   
            
      <script>
      var myInput = document.getElementById("psw"); 
      var letter = document.getElementById("letter");
      var capital = document.getElementById("capital");
      var number = document.getElementById("number");
      var length = document.getElementById("length");

myInput.onfocus = function() {
  document.getElementById("message").style.display = "block";
}

myInput.onblur = function() {
  document.getElementById("message").style.display = "none";
}
   
      // myInput.onkeyup = function() {
      //   var lowerCaseLetters = /[a-z]/g;
      //   if(myInput.value.match(lowerCaseLetters)) {  
      //     letter.classList.remove("invalid");
      //     letter.classList.add("valid");
      //   } else {
      //     letter.classList.remove("valid");
      //     letter.classList.add("invalid");
      //   }        
      //   var upperCaseLetters = /[A-Z]/g;
      //   if(myInput.value.match(upperCaseLetters)) {  
      //     capital.classList.remove("invalid");
      //     capital.classList.add("valid");
      //   } else {
      //     capital.classList.remove("valid");
      //     capital.classList.add("invalid");
      //   }      
      //   var numbers = /[0-9]/g;
      //   if(myInput.value.match(numbers)) {  
      //     number.classList.remove("invalid");
      //     number.classList.add("valid");
      //   } else {
      //     number.classList.remove("valid");
      //     number.classList.add("invalid");
      //   }        
      //   if(myInput.value.length >= 8) {
      //     length.classList.remove("invalid");
      //     length.classList.add("valid");
      //   } else {
      //     length.classList.remove("valid");
      //     length.classList.add("invalid");
      //   }
      // }
        function Submit() {
            var username = document.getElementById('user').value;
            var rollno = document.getElementById('rollno').value;
            var mail = document.getElementById('email').value;
            var pass = document.getElementById('psw').value;
            var cp= document.getElementById('confirmpassword').value;
            var gender = document.querySelector('input[name="gender"]:checked');           
            type=typeof(username);
            if (username && rollno && mail && pass && cp && gender) {
                if(pass!==cp)
                {
                    window.alert("Your Password and confirm password are not same");
                }
                
                else if (!/^[a-zA-Z]+$/.test(username)) {
                    window.alert("Enter a valid username");
                }
                else if (!isValidEmail(mail)) {
                    window.alert("Enter a valid email address.");
                }
                else{
                    document.write("<body style='background-image: url(img/wp8731686.webp); background-size: cover;'><h1 style='font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;>"+"Welcome "+username+"</h1>"+
                    "<h2>Your form has been validated</h2>"+"<br><hr><h2 >Now fill the below details><br><form style='width: 60%;'><textarea name='TBH' id='tbh' cols='50' style='border-color: black;' rows='20'placeholder='Tell about yourself'></textarea><br><br><label for='dd'>COURSE YOU LIKE TO SELECT</label>&nbsp&nbsp&nbsp&nbsp&nbsp;<select id='dd' name='dd'><option value='CSE'>CSE</option><option value='ECE'>ECE</option><option value='AIML/AIDS'>AIML/AIDS</option><option value='IT'>IT</option></select></form>");
                }
            } 
            else {
            
                window.alert("FILL ALL THE FIELDS");
            }
        }
        function isValidEmail(email) {
            var emailR= /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailR.test(email);
        }
    </script>
</div>
</body>
</html>
